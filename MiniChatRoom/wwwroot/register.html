<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />

</head>
<body>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card mt-5">
                    <div class="card-header">註冊聊天會員</div>
                    <div class="card-body">

                        <form class="form-horizontal" method="post" action="#">

                            <div class="form-group">
                                <label for="name" class="cols-sm-2 control-label">你的暱稱</label>
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="Nickname" id="Nickname" placeholder="請輸入你的暱稱" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="username" class="cols-sm-2 control-label">帳號</label>
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                                        <input type="text" class="form-control" name="Account" id="Account" placeholder="請輸入你的帳號" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="password" class="cols-sm-2 control-label">密碼</label>
                                <div class="cols-sm-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                                        <input type="password" class="form-control" name="Password" id="Password" placeholder="請輸入你的密碼" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-primary btn-lg btn-block" id="Register-button">註冊</button>
                            </div>
                            <div class="form-group row">
                                <div class="col-6">
                                    <a href="Login.html" class="btn btn-info btn-lg btn-block">登入</a>
                                </div>
                                <div class="col-6">
                                    <a href="index.html" class="btn btn-info btn-lg btn-block">回至首頁</a>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        let webapiUrl = "/api/Members";
       


        let registerBtn = document.querySelector("#Register-button");
        let account = document.querySelector("#Account");
        let password = document.querySelector("#Password");
        let nickName = document.querySelector("#Nickname");
        console.log(registerBtn, account, password, nickName);
        registerBtn.addEventListener("click", register)

        function register() {

            axios.post(webapiUrl, { Account: account.value, Password: password.value, Nickname: nickName.value })
                .then((res) => {
                    alert(res.data)
                    if (res.data == "註冊成功") {
                        document.location.href = "index.html";
                    }
                })
                .catch((error) => { console.error(error) })
        }

    </script>
</body>
</html>